# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -march=aarch64 -O0 -run-pass=legalizer -global-isel-abort=0 %s -o -  | FileCheck %s
# RUN: llc -march=aarch64 -O0 -run-pass=legalizer -global-isel-abort=0 -pass-remarks-missed='gisel*'  %s -o /dev/null 2>&1  | FileCheck -check-prefix=ERROR %s
# ERROR: unable to legalize instruction: %3:_(s64) = G_ANYEXT %1:_(s4) (in function: test_unmerge_s4)

---
name:  test_unmerge_s4
body: |
  bb.0:
    ; CHECK-LABEL: name: test_unmerge_s4
    %0:_(s8) = G_CONSTANT i8 0
    %1:_(s4), %2:_(s4)= G_UNMERGE_VALUES %0
    %3:_(s64) = G_ANYEXT %1
    $x0 = COPY %3

...
