; The purpose of this test is to see if the MC layer properly handles symbol
; names needing quoting on MS/Windows. This code is generated by clang when
; using -cxx-abi microsoft.

; RUN: llc -filetype=asm -mtriple i686-pc-win32 %s -o - | FileCheck %s

; CHECK: ?sayhi@A@@QBEXXZ

%struct.A = type {}

define i32 @main() {
entry:
  tail call void @"\01?sayhi@A@@QBEXXZ"(%struct.A* null)
  ret i32 0
}

declare void @"\01?sayhi@A@@QBEXXZ"(%struct.A*)
